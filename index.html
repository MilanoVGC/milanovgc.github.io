<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Available Tournaments</title>
    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Link to shared CSS file -->
    <link rel="stylesheet" href="./assets/style.css">
</head>
<body>
    <header>
        <div class="container">
             <h1>Available Tournaments</h1>
             <p>Select a tournament below to view pairings.</p>
        </div>
    </header>
    <main>
        <div class="container">
            <table class="tournament-list-table">
                <thead>
                    <tr>
                        <th>Tournament Name</th>
                    </tr>
                </thead>
                <tbody>
EOF # <<< MAKE SURE THIS EOF IS INDENTED EXACTLY LIKE THE SCRIPT LINES ABOVE IT (10 spaces total) AND HAS NO EXTRA WHITESPACE

# Find all tournament directories (excluding '.', 'assets', 'incoming', '.github')
# This command ALREADY excludes .github, so no change needed here.
find . -maxdepth 1 -mindepth 1 -type d ! -path './assets' ! -path './incoming' ! -path './.github' -print0 | while IFS= read -r -d $'\0' dir; do
    FOLDER_NAME=
    # Use the folder name (sanitized) as link text - simpler than mapping back
    # Add a row to the table for each tournament folder found
    echo "Adding row for "
    # Append lines to the index.html file
    echo "                              <tr>" >> index.html
    echo "                                  <td><a href=\".//\"></a></td>" >> index.html
    echo "                              </tr>" >> index.html
done

# Close the HTML structure using heredoc append
cat << EOF >> index.html
                </tbody>
            </table>
        </div>
    </main>
</body>
</html>
EOF # <<< MAKE SURE THIS EOF IS INDENTED EXACTLY LIKE THE SCRIPT LINES ABOVE IT (10 spaces total) AND HAS NO EXTRA WHITESPACE
echo "Generated root index.html"
