<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Use the extracted and escaped tournament name in the title -->
    <title>Test Crico</title> <!-- Shell substitutes this -->
    <!-- Link to shared assets, relative path -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/style.css">
</head>
<body>
    <!-- Main Header (Consistent) -->
    <header class="main-header">
        <div class="container">
            <div class="logo"><a href="../" style="color: inherit; text-decoration: none;">MilanoVGC</a></div>
            <nav>
                <!-- Add other static links if needed, pointing back to root or elsewhere -->
                 <a href="https://dhsufi.github.io/PokemonTeamListCreator/" target="_blank" rel="noopener noreferrer" class="button button-header">Create Teamlist</a>
                 <a href="../admin_upload.html" class="button button-header">Admin Upload</a>
            </nav>
        </div>
    </header>

    <!-- Tournament Specific Info Header -->
    <div class="tournament-info-header">
        <div class="container">
            <div class="info-left">
                <h1 id="tournament-name">Loading Tournament...</h1>
                <p id="tournament-organizer" style="display: none;"></p> <!-- Initially hidden -->
            </div>
            <div class="info-right">
                <p id="tournament-location" style="display: none;"></p> <!-- Initially hidden -->
            </div>
        </div>
    </div>

    <!-- Main Content Area for Pairings/Standings -->
    <main>
        <div class="container" id="tournament-content">
            <!-- Controls: Tabs and Search -->
            <div class="controls">
                <div id="round-tabs">
                    <!-- Round tabs will be generated by script.js -->
                </div>
                <div class="search-container">
                    <input type="text" id="search-input" placeholder="Search Player Name...">
                    <button id="clear-search-btn" aria-label="Clear search">×</button>
                </div>
            </div>

            <!-- Pairings Section -->
            <div id="pairings-container">
                <h2 id="current-round-title">Loading Pairings...</h2>
                <div id="loading-message" style="text-align: center; padding: 20px;">Loading data...</div>
                <table id="pairings-table" class="results-table" style="display: none;">
                    <thead>
                        <tr>
                            <th>Table</th>
                            <th>Player 1 (Record)</th>
                            <th>Player 2 (Record)</th>
                        </tr>
                    </thead>
                    <tbody id="pairings-body">
                        <!-- Pairings rows will be generated by script.js -->
                    </tbody>
                </table>
                 <div id="no-search-results" style="display: none; text-align: center; padding: 20px;">No matching players found.</div>
            </div>

            <!-- Standings Section (Initially Hidden/Loading) -->
            <div id="standings-container" style="display: none; margin-top: 40px;">
                <h2 id="standings-title">Swiss Standings</h2>
                 <div id="standings-loading-message" style="text-align: center; padding: 20px;">Calculating final standings...</div>
                 <div id="no-standings-message" style="display: block; text-align: center; padding: 20px;">Standings will appear here after the final Swiss round concludes.</div>
                <table id="standings-table" class="results-table">
                     <thead>
                         <tr>
                             <th>Rank</th>
                             <th>Player</th>
                             <th>Record</th>
                             <th>OWP%</th>
                             <th>OOWP%</th>
                         </tr>
                     </thead>
                     <tbody id="standings-body">
                         <!-- Standings rows will be generated by script.js -->
                     </tbody>
                </table>
            </div>
        </div> <!-- /container #tournament-content -->
    </main>

    <!-- Footer (Consistent) -->
    <footer class="main-footer">
      <div class="container">
          <!-- Escape the $ here -->
          <p>© <span id="current-year">${new Date().getFullYear()}</span> MilanoVGC. All rights reserved.</p>
      </div>
    </footer>

    <!-- Link to shared JavaScript -->
    <script src="../assets/script.js"></script>
    <script>
        // Set current year in footer
        const yearSpan = document.getElementById('current-year');
        if (yearSpan) {
            // This JS runs in the browser, it doesn't need the year hardcoded here
            yearSpan.textContent = new Date().getFullYear();
        }
    </script>
</body>
</html>
